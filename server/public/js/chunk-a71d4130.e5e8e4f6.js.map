{"version":3,"sources":["webpack:///./src/services/UserService.js","webpack:///./src/views/users/Users.vue?1d4f","webpack:///./src/views/custom/TableList.vue?4664","webpack:///src/views/custom/TableList.vue","webpack:///./src/views/custom/TableList.vue?61fd","webpack:///./src/views/custom/TableList.vue","webpack:///src/views/users/Users.vue","webpack:///./src/views/users/Users.vue?81ea","webpack:///./src/views/users/Users.vue","webpack:///./src/services/helper/AuthHelper.js"],"names":["url","UserService","limit","search","page","params","length","header","AuthHelper","getHeader","axios","get","formData","data","post","id","delete","datas","put","validateStatus","status","render","_vm","this","_h","$createElement","_c","_self","attrs","_v","ref","tblDetails","searchDetails","on","updateCurrentUrl","modalAction","staticRenderFns","ModalTitle","showModal","$event","closeConfirmModal","_s","ModalMsg","path","buttonsInfo","link","name","showLimit","showLimitValue","loading","$set","gotoPage","model","value","callback","$$v","expression","staticClass","_l","key","editAllow","deleteAllow","_e","directives","rawName","tblData","_id","index","editLink","primaryKeyinDB","showDeleteModal","dataList","Object","keys","pagination","totalPage","class","activePage","c","i","props","ModalObjectID","usersOpened","computed","fields","userData","userDetails","map","visibleData","filter","username","methods","showLoad","pageNo","$emit","finishLoad","showConfirmModal","title","msg","accept","console","log","goBack","$router","go","push","component","components","TableList","deleteLink","searchKeyword","created","getUser","rowClicked","pageChange","deleteUser","objectID","token","localStorage","getItem","headers","getToken","setItem"],"mappings":"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","file":"js/chunk-a71d4130.e5e8e4f6.js","sourcesContent":["import axios from \"axios\";\r\nimport router from '@/router';\r\nimport AuthHelper from './helper/AuthHelper';\r\nconst url = '/api/users/';\r\n\r\nclass UserService{\r\n    // Get User\r\n    static async getUsers(limit, search, page){\r\n        let params = {\r\n            params: {\r\n                limit: limit,\r\n                page: page,\r\n                search: search\r\n            }\r\n        };\r\n        if(search.length <= 0){\r\n            delete params.params.search;\r\n        }\r\n        let header = {...AuthHelper.getHeader(), ...params};\r\n        return axios.get(url, header);\r\n    }\r\n    // Create User\r\n    static async insertUser(formData){\r\n        let datas = {\r\n            data: formData\r\n        }\r\n        let header = {...AuthHelper.getHeader()};\r\n        return axios.post(url, formData, header);\r\n    }\r\n\r\n    // Delete User\r\n    static deleteUser(id){\r\n        let header = {...AuthHelper.getHeader()};\r\n        return axios.delete(`${url}${id}`, header);\r\n    }\r\n\r\n    // Update User\r\n    static updateUser(id, formData){\r\n        let datas = formData;\r\n        datas['_id'] = id;\r\n        let header = {...AuthHelper.getHeader()};\r\n        return axios.put(url, datas, header);\r\n    }\r\n    \r\n\r\n    // Get user\r\n    static async getUser(id){\r\n        let header = {...AuthHelper.getHeader(), validateStatus: function (status) {\r\n            return status < 500;\r\n          }};\r\n        return axios.get(`${url}${id}`, header);\r\n    }\r\n}\r\n\r\nexport default UserService;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{attrs:{\"col\":\"12\",\"xl\":\"12\"}},[_c('CCard',[_c('CCardHeader',[_vm._v(\" Users \")]),_c('CCardBody',[_c('TableList',{ref:\"list\",attrs:{\"tblDetails\":_vm.tblDetails,\"searchDetails\":_vm.searchDetails},on:{\"getData\":_vm.updateCurrentUrl,\"modalAction\":_vm.modalAction}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CModal',{attrs:{\"title\":_vm.ModalTitle,\"size\":\"lg\",\"show\":_vm.showModal},on:{\"update:show\":[function($event){_vm.showModal=$event},_vm.closeConfirmModal]}},[_vm._v(\" \"+_vm._s(_vm.ModalMsg)+\" \")]),_c('CRow',{attrs:{\"alignHorizontal\":\"end\"}},[_c('CCol',{attrs:{\"sm\":\"2\"}},[_c('router-link',{attrs:{\"to\":{ path: _vm.tblDetails.buttonsInfo.link}}},[_c('CButton',{attrs:{\"color\":\"primary\"}},[_vm._v(_vm._s(_vm.tblDetails.buttonsInfo.name))])],1)],1),_c('CCol',{attrs:{\"sm\":\"6\"}}),_c('CCol',{attrs:{\"sm\":\"2\"}},[_c('CSelect',{attrs:{\"horizontal\":\"\",\"options\":_vm.showLimit,\"placeholder\":\"Show\",\"value\":_vm.searchDetails.showLimitValue,\"disabled\":_vm.loading},on:{\"update:value\":function($event){return _vm.$set(_vm.searchDetails, \"showLimitValue\", $event)},\"change\":function($event){return _vm.gotoPage($event, 'reload')}}})],1),_c('CCol',{attrs:{\"sm\":\"2\"}},[_c('CInput',{attrs:{\"horizontal\":\"\",\"placeholder\":\"Search Keyword\",\"id\":\"searchInput\",\"readonly\":_vm.loading},on:{\"change\":function($event){return _vm.gotoPage($event, 'reload')}},model:{value:(_vm.searchDetails.searchKeyword),callback:function ($$v) {_vm.$set(_vm.searchDetails, \"searchKeyword\", $$v)},expression:\"searchDetails.searchKeyword\"}})],1)],1),_c('table',{staticClass:\"table table-striped\"},[_c('thead',[_c('tr',[_vm._l((_vm.tblDetails.header),function(header,name){return _c('th',{key:name,attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(name))])}),((_vm.tblDetails.editAllow || _vm.tblDetails.deleteAllow))?_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Action\")]):_vm._e()],2)]),_c('tbody',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_vm._l((_vm.tblDetails.dataList),function(tblData){return _c('tr',{key:tblData._id},[_vm._l((_vm.tblDetails.header),function(header,index){return _c('td',{key:index},[_vm._v(_vm._s(tblData[header]))])}),((_vm.tblDetails.editAllow || _vm.tblDetails.deleteAllow))?_c('td',[_c('router-link',{attrs:{\"to\":{ path: _vm.tblDetails.editLink + tblData[_vm.tblDetails.primaryKeyinDB]}}},[_c('fa',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tblDetails.editAllow),expression:\"tblDetails.editAllow\"}],attrs:{\"icon\":['fas', 'edit']}})],1),_vm._v(\" \"),_c('fa',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tblDetails.deleteAllow),expression:\"tblDetails.deleteAllow\"}],staticClass:\"text-danger\",attrs:{\"icon\":['fas', 'trash']},on:{\"click\":function($event){return _vm.showDeleteModal(tblData[_vm.tblDetails.primaryKeyinDB])}}})],1):_vm._e()],2)}),(_vm.tblDetails.dataList.length <= 0)?_c('tr',[((_vm.tblDetails.editAllow || _vm.tblDetails.deleteAllow))?_c('td',{attrs:{\"colspan\":(Object.keys(_vm.tblDetails.header).length)+1}},[_vm._v(\"No data\")]):_c('td',{attrs:{\"colspan\":(Object.keys(_vm.tblDetails.header).length)}},[_vm._v(\"No data\")])]):_vm._e()],2),_c('tbody',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}]},[_c('tr',[((_vm.tblDetails.editAllow || _vm.tblDetails.deleteAllow))?_c('td',{attrs:{\"colspan\":(Object.keys(_vm.tblDetails.header).length)+1}},[_c('CSpinner',{staticClass:\"text-info\"})],1):_c('td',{attrs:{\"colspan\":(Object.keys(_vm.tblDetails.header).length)}},[_c('CSpinner',{staticClass:\"text-info\"})],1)])])]),(_vm.searchDetails.pagination.totalPage > 1)?_c('nav',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],attrs:{\"aria-label\":\"\"}},[_c('ul',{staticClass:\"pagination justify-content-end\"},[_c('li',{staticClass:\"page-item\",class:{'disabled' : _vm.searchDetails.pagination.activePage == 1},on:{\"click\":function($event){return _vm.gotoPage($event, 'prev')}}},[_c('span',{staticClass:\"page-link\"},[_vm._v(\"Previous\")])]),_vm._l((_vm.searchDetails.pagination.totalPage),function(c,i){return _c('li',{key:i+1,staticClass:\"page-item\",class:{'active' : i+1 == _vm.searchDetails.pagination.activePage},on:{\"click\":function($event){return _vm.gotoPage($event, i+1)}}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(i+1))])])}),_c('li',{staticClass:\"page-item\",class:{'disabled' : _vm.searchDetails.pagination.activePage == _vm.searchDetails.pagination.totalPage},on:{\"click\":function($event){return _vm.gotoPage($event, 'next')}}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_vm._v(\"Next\")])])],2)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <CModal :title=\"ModalTitle\" size=\"lg\" :show.sync=\"showModal\" @update:show=\"closeConfirmModal\">\r\n      {{ModalMsg}}\r\n    </CModal>\r\n    <CRow alignHorizontal=\"end\">\r\n      <CCol sm=\"2\"><router-link :to=\"{ path: tblDetails.buttonsInfo.link}\"><CButton color=\"primary\">{{tblDetails.buttonsInfo.name}}</CButton></router-link></CCol>\r\n      <CCol sm=\"6\"></CCol>\r\n      <CCol sm=\"2\">\r\n        <CSelect\r\n          horizontal\r\n          :options=\"showLimit\"\r\n          placeholder=\"Show\"\r\n          :value.sync=\"searchDetails.showLimitValue\"\r\n          @change=\"gotoPage($event, 'reload')\"\r\n          :disabled =\"loading\"\r\n        />\r\n      </CCol>\r\n      <CCol sm=\"2\">\r\n        <CInput\r\n          horizontal\r\n          placeholder=\"Search Keyword\"\r\n          v-model=\"searchDetails.searchKeyword\"\r\n          @change=\"gotoPage($event, 'reload')\"\r\n          id=\"searchInput\"\r\n          :readonly=\"loading\"\r\n        />\r\n      </CCol>\r\n    </CRow>\r\n    <table class=\"table table-striped\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" v-for=\"(header, name) in tblDetails.header\" :key=\"name\">{{name}}</th>\r\n          <th scope=\"col\" v-if=\"(tblDetails.editAllow || tblDetails.deleteAllow)\">Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody v-show=\"!loading\">\r\n        <tr v-for=\"tblData in tblDetails.dataList\" :key=\"tblData._id\">\r\n          <td v-for=\"(header, index) in tblDetails.header\" :key=\"index\">{{tblData[header]}}</td>\r\n          <td v-if=\"(tblDetails.editAllow || tblDetails.deleteAllow)\">\r\n            <router-link :to=\"{ path: tblDetails.editLink + tblData[tblDetails.primaryKeyinDB]}\">\r\n              <fa v-show=\"tblDetails.editAllow\" :icon=\"['fas', 'edit']\" />\r\n            </router-link>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <fa v-show=\"tblDetails.deleteAllow\" :icon=\"['fas', 'trash']\" @click=\"showDeleteModal(tblData[tblDetails.primaryKeyinDB])\" class=\"text-danger\" />\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"tblDetails.dataList.length <= 0\">\r\n          <td v-if=\"(tblDetails.editAllow || tblDetails.deleteAllow)\" :colspan=\"(Object.keys(tblDetails.header).length)+1\">No data</td>\r\n          <td v-else :colspan=\"(Object.keys(tblDetails.header).length)\">No data</td>\r\n        </tr>\r\n      </tbody>\r\n      <tbody v-show=\"loading\">\r\n        <tr>\r\n          <td v-if=\"(tblDetails.editAllow || tblDetails.deleteAllow)\" :colspan=\"(Object.keys(tblDetails.header).length)+1\"><CSpinner class=\"text-info\"/></td>\r\n          <td v-else :colspan=\"(Object.keys(tblDetails.header).length)\"><CSpinner class=\"text-info\"/></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <nav v-show=\"!loading\" v-if=\"searchDetails.pagination.totalPage > 1\" aria-label=\"\">\r\n      <ul class=\"pagination justify-content-end\">\r\n        <li class=\"page-item\" :class=\"{'disabled' : searchDetails.pagination.activePage == 1}\" @click=\"gotoPage($event, 'prev')\">\r\n          <span class=\"page-link\">Previous</span>\r\n        </li>\r\n        <li v-for=\"(c, i) in searchDetails.pagination.totalPage\" :key=\"i+1\" class=\"page-item\" :class=\"{'active' : i+1 == searchDetails.pagination.activePage}\" @click=\"gotoPage($event, i+1)\"><a class=\"page-link\" href=\"#\">{{i+1}}</a></li>\r\n        <li class=\"page-item\" :class=\"{'disabled' : searchDetails.pagination.activePage == searchDetails.pagination.totalPage}\" @click=\"gotoPage($event, 'next')\">\r\n          <a class=\"page-link\" href=\"#\">Next</a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TableList',\r\n  props:{\r\n    tblDetails: Object,\r\n    searchDetails: Object\r\n  },\r\n  data () {\r\n    return {\r\n      loading: true,\r\n      showLimit: [1,5,10,15,20],\r\n      showModal: false,\r\n      ModalTitle: '',\r\n      ModalMsg: '',\r\n      ModalObjectID: '',\r\n      usersOpened: null,\r\n    }\r\n  },\r\n  computed: {\r\n    fields () {\r\n      return [\r\n        { key: 'key', label: this.username, _style: 'width:150px'},\r\n        { key: 'value', label: '', _style: 'width:150px;' }\r\n      ]\r\n    },\r\n    userData () {\r\n      const id = this.$route.params.id\r\n      const user = usersData.find((user, index) => index + 1 == id)\r\n      const userDetails = user ? Object.entries(user) : [['id', 'Not found']]\r\n      return userDetails.map(([key, value]) => { return { key, value } })\r\n    },\r\n    visibleData () {\r\n      return this.userData.filter(param => param.key !== 'username')\r\n    },\r\n    username () {\r\n      return this.userData.filter(param => param.key === 'username')[0].value\r\n    }\r\n  },\r\n  methods: {\r\n    gotoPage(event, pageNo){\r\n      this.showLoad();\r\n      if( isNaN(pageNo) ){\r\n        // Prev and Next function\r\n        if( event.currentTarget !== undefined && event.currentTarget.classList.contains('disabled')){\r\n          // Prevent unlimited click 'Next and Prev'\r\n          return;\r\n        }\r\n        switch(pageNo.toString().trim()){\r\n          case 'prev':\r\n            this.searchDetails.pagination.activePage = (this.searchDetails.pagination.activePage > 1) ? this.searchDetails.pagination.activePage -=1 : 1; \r\n            break;\r\n          case 'next':\r\n            this.searchDetails.pagination.activePage = (this.searchDetails.pagination.activePage < this.searchDetails.pagination.totalPage) ? this.searchDetails.pagination.activePage +=1 : this.searchDetails.pagination.activePage; \r\n            break;\r\n          case 'reload':\r\n            this.searchDetails.pagination.activePage = 1\r\n            break;\r\n        }\r\n      }else{\r\n        if(event.currentTarget.classList.contains('active') !== true){\r\n          this.searchDetails.pagination.activePage = pageNo;\r\n        }\r\n      }\r\n      this.$emit('getData');\r\n      // this.finishLoad();\r\n    },\r\n    showLoad(){\r\n      this.loading = true;\r\n    },\r\n    finishLoad(){\r\n      this.loading = false;\r\n    },\r\n    showDeleteModal(id){\r\n      this.ModalObjectID = id;\r\n      this.showConfirmModal('Delete', 'Do you want to delete \\\"' + id +'\\\"?');\r\n    },\r\n    showConfirmModal(title, msg){\r\n      this.showModal = true;\r\n      this.ModalTitle = title;\r\n      this.ModalMsg = msg;\r\n    },\r\n    closeConfirmModal(status, evt, accept) {\r\n      if (accept) {\r\n        switch( this.ModalTitle ){\r\n          case \"Delete\":\r\n            this.$emit('modalAction', this.ModalTitle, this.ModalObjectID);\r\n            break;\r\n          default:\r\n            console.log('No action');\r\n        }\r\n      }\r\n    },\r\n    goBack() {\r\n      this.usersOpened ? this.$router.go(-1) : this.$router.push({path: '/users'})\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./TableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./TableList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableList.vue?vue&type=template&id=3fceb0a9&\"\nimport script from \"./TableList.vue?vue&type=script&lang=js&\"\nexport * from \"./TableList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <CRow>\r\n    <CCol col=\"12\" xl=\"12\">\r\n      <CCard>\r\n        <CCardHeader>\r\n          Users\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <TableList ref=\"list\" :tblDetails=\"tblDetails\" :searchDetails=\"searchDetails\" @getData=\"updateCurrentUrl\" @modalAction=\"modalAction\" />\r\n        </CCardBody>\r\n      </CCard>\r\n    </CCol>\r\n  </CRow>\r\n</template>\r\n\r\n<script>\r\nimport UserService from '../../services/UserService'\r\nimport TableList from '../custom/TableList'\r\nexport default {\r\n  name: 'Users',\r\n  components:{\r\n    TableList\r\n  },\r\n  data () {\r\n    return {\r\n      tblDetails: {\r\n        editAllow: true,\r\n        editLink: '/users/',\r\n        deleteAllow: true,\r\n        deleteLink: '/users/',\r\n        primaryKeyinDB: '_id',\r\n        buttonsInfo: {\r\n          'name': 'Create user',\r\n          'link': '/users/create'\r\n        },\r\n        header: {\r\n          // Show name: column name\r\n          '#': '_id',\r\n          'Name': 'name',\r\n          'Date': 'date'\r\n        },\r\n        dataList: [],\r\n      },\r\n      searchDetails:{\r\n        showLimitValue: (this.$route.query.sl) ? Number.parseInt(this.$route.query.sl) : 5,\r\n        searchKeyword: (this.$route.query.sk) ? this.$route.query.sk : '',\r\n        pagination: {\r\n          'totalPage': 0,\r\n          'activePage': (this.$route.query.p) ? Number.parseInt(this.$route.query.p) : 1\r\n        },\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    // Reroute when no querystring\r\n    if( (this.$route.query.sl === undefined) || (this.$route.query.p === undefined)){\r\n      this.updateCurrentUrl(false);\r\n    }else{\r\n      this.getUser();\r\n    }\r\n  },\r\n  methods: {\r\n    rowClicked (item, index) {\r\n      this.$router.push({path: `users/${index + 1}`})\r\n    },\r\n    pageChange (val) {\r\n      this.$router.push({ query: { page: val }})\r\n    },\r\n    updateCurrentUrl( loadData = true){\r\n      if( !((this.$route.query.sl == this.searchDetails.showLimitValue) && (this.$route.query.p == this.searchDetails.pagination.activePage) && ( this.$route.query.sk == this.searchDetails.searchKeyword)) )\r\n        this.$router.push({name: 'Users',  query: {sl: this.searchDetails.showLimitValue, p: this.searchDetails.pagination.activePage, sk: this.searchDetails.searchKeyword}});\r\n      if(loadData) this.getUser();\r\n    },\r\n    modalAction(actionType, objectID){\r\n      switch(actionType.toLowerCase()){\r\n        case \"delete\":\r\n          this.deleteUser(objectID);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    async getUser(){\r\n      try{\r\n        let currentUserDatas = UserService.getUsers(this.searchDetails.showLimitValue, this.searchDetails.searchKeyword, this.searchDetails.pagination.activePage);\r\n        currentUserDatas.then( (res) =>{\r\n          this.tblDetails.dataList = res.data.dataList;\r\n          this.searchDetails.pagination.totalPage = res.data.totalPage;\r\n          this.$refs.list.finishLoad();\r\n        });\r\n      }catch(error) {\r\n        console.log(error);\r\n      };\r\n    },\r\n    async deleteUser(userID){\r\n      try{\r\n        let deleteUser = UserService.deleteUser(userID);\r\n        deleteUser.then( (res) =>{\r\n          this.getUser();\r\n        });\r\n      }catch(error) {\r\n        console.log(error);\r\n      };\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=700e79bd&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","class AuthHelper{\r\n    constructor(username, token){\r\n        // this._username = username;\r\n        // this._token = getToken();\r\n    }\r\n\r\n    static getToken(){\r\n        let token = localStorage.getItem('token');\r\n        if (token) {\r\n            return token;\r\n        }else{\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    static getHeader(){\r\n        return {headers: {'auth-token': this.getToken()}};\r\n    }\r\n\r\n    static setToken(token){\r\n        console.log(token);\r\n        localStorage.setItem('token', token);\r\n    }\r\n\r\n}\r\n\r\nexport default AuthHelper;\r\n"],"sourceRoot":""}