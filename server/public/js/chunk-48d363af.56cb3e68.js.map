{"version":3,"sources":["webpack:///./src/views/fuel/fuel.vue?f047","webpack:///src/views/fuel/fuel.vue","webpack:///./src/views/fuel/fuel.vue?6b5f","webpack:///./src/views/fuel/fuel.vue","webpack:///./src/services/WeatherService.js","webpack:///./src/services/helper/AuthHelper.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","lat","lng","staticRenderFns","name","data","SearchformCollapsed","loading","searchKeyword","showCityName","isSearch","SearchResult","isLoading","WeatherResult","current","forecast","weatherResultShow","created","methods","resetSearch","component","url","WeatherService","searchName","length","params","k","header","AuthHelper","getHeader","axios","get","getUrl","username","token","localStorage","getItem","headers","getToken","console","log","setItem"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,IAAM,KAAK,GAAK,OAAO,CAACF,EAAG,UAAU,CAACG,YAAY,CAAC,MAAQ,QAAQ,OAAS,SAASD,MAAM,CAAC,OAAS,CAACE,IAAI,GAAIC,IAAI,IAAI,KAAO,EAAE,cAAc,cAAc,IAAI,IACxRC,EAAkB,G,wUCetB,OACEC,KAAM,UACNC,KAFF,WAGI,MAAO,CACLC,qBAAqB,EACrBC,SAAS,EACTC,cAAe,GACfC,aAAc,GACdC,UAAU,EACVC,aAAc,GACdC,WAAW,EACXC,cAAe,CACbC,QAAS,GACTC,SAAU,IAEZC,mBAAmB,IAGvBC,QAlBF,aAoBEC,QAAS,CACP,eADJ,WACA,oJACA,kBADA,WAGA,0BAHA,iDAMA,eACA,sCACA,oBACA,cACA,sBACA,kBACA,iBACA,WACA,aAEA,uBACA,kBAEA,mBACA,kBApBA,mDAuBA,kBAvBA,oEA2BI,YA5BJ,SA4BA,4JACA,eACA,gBACA,8BACA,oBACA,cACA,kBACA,uBACA,iBACA,yBACA,uBACA,kBAXA,8CAcIC,YA1CJ,WA2CMzB,KAAKY,qBAAsB,EAC3BZ,KAAKsB,mBAAoB,EACzBtB,KAAKgB,UAAW,EAChBhB,KAAKc,cAAgB,GACrBd,KAAKe,aAAe,MCnFqc,I,YCO3dW,EAAY,eACd,EACA5B,EACAW,GACA,EACA,KACA,KACA,MAIa,aAAAiB,E,g4CChBf,IAAMC,EAAM,gBAENC,E,wHAEF,WAAyBC,GAAzB,8FACOA,EAAWC,OAAS,GAD3B,wDAEQC,EAAS,CACTA,OAAQ,CACJC,EAAGH,IAGPI,EAPR,OAOqBC,OAAWC,aAAgBJ,GAPhD,kBAQWK,IAAMC,IAAIV,EAAKM,IAR1B,2C,qIAWA,WAA+BF,GAA/B,gGACQO,EAASX,EAAM,UACfM,EAFR,OAEqBC,OAAWC,aAAgB,CAACJ,WAFjD,kBAGWK,IAAMC,IAAIC,EAAQL,IAH7B,2C,iEAOWL,U,mWCxBTM,E,WACF,WAAYK,EAAUC,GAAM,U,uCAK5B,WACI,IAAIA,EAAQC,aAAaC,QAAQ,SACjC,OAAIF,GAGO,K,uBAIf,WACI,MAAO,CAACG,QAAS,CAAC,aAAc3C,KAAK4C,e,sBAGzC,SAAgBJ,GACZK,QAAQC,IAAIN,GACZC,aAAaM,QAAQ,QAASP,O,KAKvBN","file":"js/chunk-48d363af.56cb3e68.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{attrs:{\"col\":\"12\",\"xl\":\"12\"}},[_c('GmapMap',{staticStyle:{\"width\":\"500px\",\"height\":\"300px\"},attrs:{\"center\":{lat:10, lng:10},\"zoom\":7,\"map-type-id\":\"terrain\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <CRow>\r\n        <CCol col=\"12\" xl=\"12\">\r\n<GmapMap\r\n  :center=\"{lat:10, lng:10}\"\r\n  :zoom=\"7\"\r\n  map-type-id=\"terrain\"\r\n  style=\"width: 500px; height: 300px\"\r\n>\r\n</GmapMap>\r\n        </CCol>\r\n    </CRow>\r\n</template>\r\n\r\n<script>\r\nimport WeatherService from '../../services/WeatherService'\r\nexport default {\r\n  name: 'Weather',\r\n  data () {\r\n    return {\r\n      SearchformCollapsed: true,\r\n      loading: false,\r\n      searchKeyword: '',\r\n      showCityName: '',\r\n      isSearch: false,\r\n      SearchResult: {},\r\n      isLoading: false,\r\n      WeatherResult: {\r\n        current: {},\r\n        forecast: {}\r\n      },\r\n      weatherResultShow: false\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    async searchLocation(){\r\n      this.SearchResult = {};\r\n      try{\r\n        if(this.searchKeyword.length < 3){\r\n          return;\r\n        }\r\n        this.isLoading = true;\r\n        let WeatherDatas = WeatherService.getLocation(this.searchKeyword);\r\n        WeatherDatas.then( (res) =>{\r\n          this.isSearch = true\r\n          this.SearchResult = res.data\r\n          this.showCityName = ''\r\n          this.WeatherResult = {\r\n            current: {},\r\n            forecast: {}\r\n          };\r\n          this.weatherResultShow = false\r\n          this.isLoading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false;\r\n        });\r\n      }catch(error) {\r\n        console.log(error);\r\n      };\r\n      // this.isLoading = false;\r\n    },\r\n    async showWeather(city_id, city_name, lat, lon){\r\n      this.isLoading = true;\r\n      let params = {lat: lat, lon: lon}\r\n      let WeatherDatas = WeatherService.getCurrentWeather(params);\r\n      WeatherDatas.then( (res) =>{\r\n        this.isSearch = false\r\n        this.SearchResult = {}\r\n        this.weatherResultShow = true;\r\n        this.showCityName = city_name\r\n        this.SearchformCollapsed = false\r\n        this.WeatherResult = res.data\r\n        this.isLoading = false;\r\n      } )\r\n    },\r\n    resetSearch(){\r\n      this.SearchformCollapsed = true\r\n      this.weatherResultShow = false\r\n      this.isSearch = false\r\n      this.searchKeyword = ''\r\n      this.showCityName = ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./fuel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./fuel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fuel.vue?vue&type=template&id=5fce11e3&\"\nimport script from \"./fuel.vue?vue&type=script&lang=js&\"\nexport * from \"./fuel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\r\nimport AuthHelper from './helper/AuthHelper';\r\nconst url = '/api/weather/';\r\n\r\nclass WeatherService{\r\n    // Get location\r\n    static async getLocation(searchName){\r\n        if(searchName.length < 3) return;\r\n        let params = {\r\n            params: {\r\n                k: searchName,\r\n            }\r\n        };\r\n        let header = {...AuthHelper.getHeader(), ...params};\r\n        return axios.get(url, header);\r\n    }\r\n    // Get location weather details\r\n    static async getCurrentWeather(params){\r\n        let getUrl = url + 'details'\r\n        let header = {...AuthHelper.getHeader(), ...{params}};\r\n        return axios.get(getUrl, header);\r\n    }\r\n}\r\n\r\nexport default WeatherService;","class AuthHelper{\r\n    constructor(username, token){\r\n        // this._username = username;\r\n        // this._token = getToken();\r\n    }\r\n\r\n    static getToken(){\r\n        let token = localStorage.getItem('token');\r\n        if (token) {\r\n            return token;\r\n        }else{\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    static getHeader(){\r\n        return {headers: {'auth-token': this.getToken()}};\r\n    }\r\n\r\n    static setToken(token){\r\n        console.log(token);\r\n        localStorage.setItem('token', token);\r\n    }\r\n\r\n}\r\n\r\nexport default AuthHelper;\r\n"],"sourceRoot":""}