{"version":3,"sources":["webpack:///./src/views/pages/Login.vue?1d37","webpack:///./src/services/LoginService.js","webpack:///src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?975a","webpack:///./src/views/pages/Login.vue","webpack:///./src/services/helper/AuthHelper.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","buttonDisable","_e","on","$event","preventDefault","login","_v","_s","errorMsg","scopedSlots","_u","key","fn","proxy","model","value","callback","$$v","email","expression","password","staticRenderFns","url","LoginService","return_arr","axios","post","then","res","AuthHelper","setToken","data","router","replace","name","catch","err","response","text","id","delete","error","methods","component","username","token","localStorage","getItem","headers","getToken","console","log","setItem"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,aAAa,CAACA,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACF,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,MAAM,CAACH,EAAG,QAAQ,CAACE,YAAY,OAAO,CAACF,EAAG,YAAY,CAAGJ,EAAIQ,cAAykDR,EAAIS,KAA9jDL,EAAG,QAAQ,CAACE,YAAY,cAAcI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBZ,EAAIa,MAAMF,MAAW,CAACP,EAAG,KAAK,CAACJ,EAAIc,GAAG,WAAWV,EAAG,IAAI,CAACE,YAAY,cAAc,CAACN,EAAIc,GAAG,6BAA8Bd,EAAY,SAAEI,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACP,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,aAAahB,EAAIS,KAAKL,EAAG,SAAS,CAACG,MAAM,CAAC,YAAc,WAAW,aAAe,kBAAkBU,YAAYjB,EAAIkB,GAAG,CAAC,CAACC,IAAI,kBAAkBC,GAAG,WAAW,MAAO,CAAChB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,gBAAgBc,OAAM,IAAO,MAAK,EAAM,YAAYC,MAAM,CAACC,MAAOvB,EAAS,MAAEwB,SAAS,SAAUC,GAAMzB,EAAI0B,MAAMD,GAAKE,WAAW,WAAWvB,EAAG,SAAS,CAACG,MAAM,CAAC,YAAc,WAAW,KAAO,WAAW,aAAe,mBAAmBU,YAAYjB,EAAIkB,GAAG,CAAC,CAACC,IAAI,kBAAkBC,GAAG,WAAW,MAAO,CAAChB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,uBAAuBc,OAAM,IAAO,MAAK,EAAM,YAAYC,MAAM,CAACC,MAAOvB,EAAY,SAAEwB,SAAS,SAAUC,GAAMzB,EAAI4B,SAASH,GAAKE,WAAW,cAAcvB,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,YAAY,YAAYC,MAAM,CAAC,IAAM,MAAM,CAACH,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,UAAU,SAAWP,EAAIQ,eAAeE,GAAG,CAAC,MAAQV,EAAIa,QAAQ,CAAGb,EAAIQ,cAA8CR,EAAIS,KAAnCL,EAAG,OAAO,CAACJ,EAAIc,GAAG,aAAuBd,EAAiB,cAAEI,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,WAAW,CAACH,EAAG,OAAO,CAACE,YAAY,sBAAsBN,EAAIS,QAAQ,GAAGL,EAAG,OAAO,CAACE,YAAY,aAAaC,MAAM,CAAC,IAAM,MAAM,CAACH,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,SAAS,CAACP,EAAIc,GAAG,sBAAsBV,EAAG,UAAU,CAACE,YAAY,YAAYC,MAAM,CAAC,MAAQ,SAAS,CAACP,EAAIc,GAAG,oBAAoB,IAAI,IAAI,GAAYV,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAAEN,EAAiB,cAAEI,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,WAAW,CAACH,EAAG,OAAO,CAACE,YAAY,sBAAsBN,EAAIS,QAAQ,IAAI,IAAI,IAAI,IAAI,IAAI,IAC3lEoB,EAAkB,G,sqBCEtB,IAAMC,EAAM,mBAENC,E,kHAEF,WAAoBL,EAAOE,GAA3B,8FACQI,EAAa,GADrB,SAEUC,IAAMC,KAAKJ,EAAK,CAClBJ,MAAOA,EACPE,SAAUA,IACXO,MAAK,SAACC,GACLC,OAAWC,SAASF,EAAIG,MAExBC,OAAOC,QAAQ,CAAEC,KAAM,iBAExBC,OAAM,SAACC,GACHA,EAAIC,WACHb,EAAaY,EAAIC,aAZ7B,gCAeWb,GAfX,2C,oFAgCA,SAAkBc,GACd,OAAOb,IAAMC,KAAKJ,EAAK,CAACgB,W,wBAI5B,SAAkBC,GACd,OAAOd,IAAMe,OAAN,UAAgBlB,GAAhB,OAAsBiB,Q,KAItBhB,I,4TCOf,OACEW,KAAM,QACNH,KAFF,WAGI,MAAO,CACLb,MAAO,sBACPE,SAAU,SACVqB,MAAO,GACPH,KAAM,GACNtC,eAAe,EACfQ,SAAU,KAGdkC,QAAS,CACP,MADJ,WACA,wJACA,mBACA,cAFA,SAGA,4BAHA,OAGA,EAHA,OAIA,iBACA,mBACA,mBANA,gDCrEge,I,YCO5dC,EAAY,eACd,EACApD,EACA8B,GACA,EACA,KACA,KACA,MAIa,aAAAsB,E,4WClBTd,E,WACF,WAAYe,EAAUC,GAAM,U,uCAK5B,WACI,IAAIA,EAAQC,aAAaC,QAAQ,SACjC,OAAIF,GAGO,K,uBAIf,WACI,MAAO,CAACG,QAAS,CAAC,aAAcvD,KAAKwD,e,sBAGzC,SAAgBJ,GACZK,QAAQC,IAAIN,GACZC,aAAaM,QAAQ,QAASP,O,KAKvBhB","file":"js/chunk-15fe5ae8.54822964.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-app flex-row align-items-center\"},[_c('CContainer',[_c('CRow',{staticClass:\"justify-content-center\"},[_c('CCol',{attrs:{\"md\":\"6\"}},[_c('CCard',{staticClass:\"p-4\"},[_c('CCardBody',[(!_vm.buttonDisable)?_c('CForm',{staticClass:\"form-signin\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('h1',[_vm._v(\"Login\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Sign In to your account\")]),(_vm.errorMsg)?_c('CAlert',{attrs:{\"color\":\"danger\"}},[_vm._v(_vm._s(_vm.errorMsg))]):_vm._e(),_c('CInput',{attrs:{\"placeholder\":\"Username\",\"autocomplete\":\"username email\"},scopedSlots:_vm._u([{key:\"prepend-content\",fn:function(){return [_c('CIcon',{attrs:{\"name\":\"cil-user\"}})]},proxy:true}],null,false,3945887885),model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('CInput',{attrs:{\"placeholder\":\"Password\",\"type\":\"password\",\"autocomplete\":\"curent-password\"},scopedSlots:_vm._u([{key:\"prepend-content\",fn:function(){return [_c('CIcon',{attrs:{\"name\":\"cil-lock-locked\"}})]},proxy:true}],null,false,3300492400),model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('CRow',[_c('CCol',{staticClass:\"text-left\",attrs:{\"col\":\"6\"}},[_c('CButton',{staticClass:\"px-4\",attrs:{\"color\":\"primary\",\"disabled\":_vm.buttonDisable},on:{\"click\":_vm.login}},[(!_vm.buttonDisable)?_c('span',[_vm._v(\"Sign in\")]):_vm._e(),(_vm.buttonDisable)?_c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"visually-hidden\"})]):_vm._e()])],1),_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"6\"}},[_c('CButton',{staticClass:\"px-0\",attrs:{\"color\":\"link\"}},[_vm._v(\"Forgot password?\")]),_c('CButton',{staticClass:\"d-lg-none\",attrs:{\"color\":\"link\"}},[_vm._v(\"Register now!\")])],1)],1)],1):_vm._e(),_c('div',{staticClass:\"d-flex justify-content-center\"},[(_vm.buttonDisable)?_c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"visually-hidden\"})]):_vm._e()])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\r\nimport router from '@/router';\r\nimport AuthHelper from './helper/AuthHelper';\r\nconst url = '/api/user/login/';\r\n\r\nclass LoginService{\r\n    // Login\r\n    static async login( email, password ){\r\n        var return_arr = \"\";\r\n        await axios.post(url, {\r\n            email: email,\r\n            password: password\r\n        }).then((res) => {\r\n            AuthHelper.setToken(res.data);\r\n            // axios.defaults.headers.common['auth-token'] = `${res.data}`;\r\n            router.replace({ name: \"Dashboard\" });\r\n            // return_arr = data;\r\n        }).catch((err) => {\r\n            if(err.response){\r\n                return_arr = err.response;\r\n            }\r\n        })\r\n        return return_arr;\r\n        // return new Promise( (resolve, reject) => {\r\n        //     try{\r\n        //         console.log(email);\r\n        //         console.log(password)\r\n        //         const res = axios.post(url, {\r\n        //             email: email,\r\n        //             password: password\r\n        //         });\r\n        //         const data = res.data;\r\n        //         resolve(data);\r\n        //     }catch(err){\r\n        //         reject(err);\r\n        //     }\r\n        // });\r\n    }\r\n    // Create post\r\n    static insertPost(text){\r\n        return axios.post(url, {text});\r\n    }\r\n\r\n    // Delete post\r\n    static deletePost(id){\r\n        return axios.delete(`${url}${id}`);\r\n    }\r\n}\r\n\r\nexport default LoginService;","<template>\r\n  <div class=\"c-app flex-row align-items-center\">\r\n    <CContainer>\r\n      <CRow class=\"justify-content-center\">\r\n        <CCol md=\"6\">\r\n          <CCard class=\"p-4\">\r\n            <CCardBody>\r\n              <CForm class=\"form-signin\" v-on:submit.prevent=\"login\" v-if=\"!buttonDisable\">\r\n                <h1>Login</h1>\r\n                  <p class=\"text-muted\">Sign In to your account</p>\r\n                  <CAlert color=\"danger\" v-if=\"errorMsg\">{{errorMsg}}</CAlert>\r\n                  <CInput\r\n                    placeholder=\"Username\"\r\n                    autocomplete=\"username email\"\r\n                    v-model=\"email\" \r\n                  >\r\n                    <template #prepend-content><CIcon name=\"cil-user\"/></template>\r\n                  </CInput>\r\n                  <CInput\r\n                    placeholder=\"Password\"\r\n                    type=\"password\"\r\n                    autocomplete=\"curent-password\"\r\n                    v-model=\"password\"\r\n                  >\r\n                    <template #prepend-content><CIcon name=\"cil-lock-locked\"/></template>\r\n                  </CInput>\r\n                  <CRow>\r\n                    <CCol col=\"6\" class=\"text-left\">\r\n                      <CButton color=\"primary\" class=\"px-4\" :disabled=\"buttonDisable\" v-on:click=\"login\">\r\n                        <span v-if=\"!buttonDisable\">Sign in</span>\r\n                        <div class=\"spinner-border\" role=\"status\" v-if=\"buttonDisable\">\r\n                          <span class=\"visually-hidden\"></span>\r\n                        </div>\r\n                      </CButton>\r\n                    </CCol>\r\n                    <CCol col=\"6\" class=\"text-right\">\r\n                      <CButton color=\"link\" class=\"px-0\">Forgot password?</CButton>\r\n                      <CButton color=\"link\" class=\"d-lg-none\">Register now!</CButton>\r\n                    </CCol>\r\n                  </CRow>\r\n              </CForm>\r\n              <div class=\"d-flex justify-content-center\">\r\n                <div class=\"spinner-border\" role=\"status\" v-if=\"buttonDisable\">\r\n                  <span class=\"visually-hidden\"></span>\r\n                </div>\r\n              </div>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n    </CContainer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoginService from '../../services/LoginService'\r\nexport default {\r\n  name: 'Login',\r\n  data(){\r\n    return {\r\n      email: 'siufungx2@gmail.com',\r\n      password: '123467',\r\n      error: '',\r\n      text: '',\r\n      buttonDisable: false,\r\n      errorMsg: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async login(){\r\n      this.buttonDisable = true\r\n      this.errorMsg = ''\r\n      let r = await LoginService.login(this.email, this.password)\r\n      if(r.status !== 200)\r\n        this.errorMsg = r.data\r\n      this.buttonDisable = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7338b57d&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","class AuthHelper{\r\n    constructor(username, token){\r\n        // this._username = username;\r\n        // this._token = getToken();\r\n    }\r\n\r\n    static getToken(){\r\n        let token = localStorage.getItem('token');\r\n        if (token) {\r\n            return token;\r\n        }else{\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    static getHeader(){\r\n        return {headers: {'auth-token': this.getToken()}};\r\n    }\r\n\r\n    static setToken(token){\r\n        console.log(token);\r\n        localStorage.setItem('token', token);\r\n    }\r\n\r\n}\r\n\r\nexport default AuthHelper;\r\n"],"sourceRoot":""}