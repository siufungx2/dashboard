{"version":3,"sources":["webpack:///./src/services/UserService.js","webpack:///./src/services/helper/AuthHelper.js","webpack:///./src/views/users/UserForm.vue?1bfd","webpack:///./src/services/helper/CommonHelper.js","webpack:///./src/views/custom/TableForm.vue?cc4d","webpack:///src/views/custom/TableForm.vue","webpack:///./src/views/custom/TableForm.vue?83ce","webpack:///./src/views/custom/TableForm.vue","webpack:///src/views/users/UserForm.vue","webpack:///./src/views/users/UserForm.vue?05ee","webpack:///./src/views/users/UserForm.vue"],"names":["url","UserService","limit","search","page","params","length","header","AuthHelper","getHeader","axios","get","formData","data","post","id","delete","datas","put","validateStatus","status","username","token","localStorage","getItem","headers","this","getToken","console","log","setItem","render","_vm","_h","$createElement","_c","_self","key","k","ref","attrs","formDetails","columnList","on","processData","staticRenderFns","CommonHelper","obj","searchKey","value","resultObject","filter","o","indexOf","_v","_s","title","staticClass","$event","formCollapsed","directives","name","rawName","loading","expression","successShow","successMsg","errorShow","errorMsg","preventDefault","formSubmit","_l","column","type","label","description","datatype","prepend","append","disabled","dbColumn","$set","_e","btnSubmitText","props","Object","Array","methods","$emit","showLoad","finishLoad","showSuccessAlert","msg","showErrorAlert","initFormData","i","$forceUpdate","goBack","usersOpened","$router","go","push","component","components","TableForm","submitUrl","created","mounted","insertUser","editUser"],"mappings":"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","file":"js/chunk-848b302e.17983c84.js","sourcesContent":["import axios from \"axios\";\r\nimport router from '@/router';\r\nimport AuthHelper from './helper/AuthHelper';\r\nconst url = '/api/users/';\r\n\r\nclass UserService{\r\n    // Get User\r\n    static async getUsers(limit, search, page){\r\n        let params = {\r\n            params: {\r\n                limit: limit,\r\n                page: page,\r\n                search: search\r\n            }\r\n        };\r\n        if(search.length <= 0){\r\n            delete params.params.search;\r\n        }\r\n        let header = {...AuthHelper.getHeader(), ...params};\r\n        return axios.get(url, header);\r\n    }\r\n    // Create User\r\n    static async insertUser(formData){\r\n        let datas = {\r\n            data: formData\r\n        }\r\n        let header = {...AuthHelper.getHeader()};\r\n        return axios.post(url, formData, header);\r\n    }\r\n\r\n    // Delete User\r\n    static deleteUser(id){\r\n        let header = {...AuthHelper.getHeader()};\r\n        return axios.delete(`${url}${id}`, header);\r\n    }\r\n\r\n    // Update User\r\n    static updateUser(id, formData){\r\n        let datas = formData;\r\n        datas['_id'] = id;\r\n        let header = {...AuthHelper.getHeader()};\r\n        return axios.put(url, datas, header);\r\n    }\r\n    \r\n\r\n    // Get user\r\n    static async getUser(id){\r\n        let header = {...AuthHelper.getHeader(), validateStatus: function (status) {\r\n            return status < 500;\r\n          }};\r\n        return axios.get(`${url}${id}`, header);\r\n    }\r\n}\r\n\r\nexport default UserService;","class AuthHelper{\r\n    constructor(username, token){\r\n        // this._username = username;\r\n        // this._token = getToken();\r\n    }\r\n\r\n    static getToken(){\r\n        let token = localStorage.getItem('token');\r\n        if (token) {\r\n            return token;\r\n        }else{\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    static getHeader(){\r\n        return {headers: {'auth-token': this.getToken()}};\r\n    }\r\n\r\n    static setToken(token){\r\n        console.log(token);\r\n        localStorage.setItem('token', token);\r\n    }\r\n\r\n}\r\n\r\nexport default AuthHelper;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TableForm',{key:_vm.k,ref:\"tf_user\",attrs:{\"formDetails\":_vm.formDetails,\"columnList\":_vm.columnList},on:{\"processData\":_vm.processData}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","class CommonHelper{\r\n\r\n    static getObjectKeyByValue( obj, searchKey, value){\r\n        let resultObject = obj.filter( o => o[searchKey] == value );\r\n        if(resultObject.length > 0){\r\n            return obj.indexOf(resultObject[0]);\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\nexport default CommonHelper;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('CCard',[_c('CCardHeader',[_c('CIcon',{attrs:{\"name\":\"cil-pencil\"}}),_vm._v(\" \"+_vm._s(this.formDetails.title)+\" \"),_c('div',{staticClass:\"card-header-actions\"},[_c('CLink',{staticClass:\"card-header-action btn-minimize\",on:{\"click\":function($event){_vm.formCollapsed=!_vm.formCollapsed}}},[_c('CIcon',{attrs:{\"name\":(\"cil-chevron-\" + (_vm.formCollapsed ? 'bottom' : 'top'))}})],1)],1)],1),_c('CCollapse',{attrs:{\"show\":_vm.formCollapsed}},[_c('CCardBody',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_c('CAlert',{attrs:{\"color\":\"success\",\"closeButton\":\"\",\"show\":_vm.successShow},on:{\"update:show\":function($event){_vm.successShow=$event}}},[_vm._v(\" \"+_vm._s(_vm.successMsg)+\" \")]),_c('CAlert',{attrs:{\"show\":_vm.errorShow,\"color\":\"danger\"},on:{\"update:show\":function($event){_vm.errorShow=$event}}},[_vm._v(\" \"+_vm._s(_vm.errorMsg)+\" \")]),_c('CForm',{on:{\"submit\":function($event){$event.preventDefault();return _vm.formSubmit($event)}}},[_vm._l((_vm.columnList),function(column){return _c('div',{key:column.id},[(column.type == 'input')?_c('CInput',{attrs:{\"label\":column.label,\"description\":column.description,\"type\":column.datatype,\"prepend\":column.prepend,\"append\":column.append,\"disabled\":column.disabled,\"value\":_vm.formData[column.dbColumn]},on:{\"update:value\":function($event){return _vm.$set(_vm.formData, column.dbColumn, $event)}}}):_vm._e()],1)}),_c('div',{staticClass:\"form-actions\"},[_c('CButton',{attrs:{\"type\":\"submit\",\"color\":\"primary\"}},[_vm._v(_vm._s(this.formDetails.btnSubmitText))])],1)],2)],1),_c('CCardBody',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"align-middle\"},[_c('CSpinner',{staticClass:\"text-info\"})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"fade\">\r\n    <CCard>\r\n      <CCardHeader>\r\n        <CIcon name=\"cil-pencil\"/> {{this.formDetails.title}}\r\n        <div class=\"card-header-actions\">\r\n          <CLink\r\n            class=\"card-header-action btn-minimize\"\r\n            @click=\"formCollapsed=!formCollapsed\"\r\n          >\r\n            <CIcon :name=\"`cil-chevron-${formCollapsed ? 'bottom' : 'top'}`\"/>\r\n          </CLink>\r\n        </div>\r\n      </CCardHeader>\r\n      <CCollapse :show=\"formCollapsed\">\r\n        <CCardBody v-show=\"!loading\">\r\n          <CAlert\r\n            color=\"success\"\r\n            closeButton\r\n            :show.sync=\"successShow\"\r\n          >\r\n            {{successMsg}}\r\n          </CAlert>\r\n\r\n          <CAlert :show.sync=\"errorShow\" color=\"danger\">\r\n            {{errorMsg}}\r\n          </CAlert>\r\n          <CForm v-on:submit.prevent=\"formSubmit\">\r\n            <div v-for=\"column in columnList\" :key=\"column.id\">\r\n              <CInput v-if=\"column.type == 'input'\"\r\n                :label=\"column.label\"\r\n                :description=\"column.description\"\r\n                :type=\"column.datatype\"\r\n                :prepend=\"column.prepend\"\r\n                :append=\"column.append\"\r\n                :disabled=\"column.disabled\"\r\n                :value.sync=\"formData[column.dbColumn]\"\r\n              />\r\n            </div>\r\n            <div class=\"form-actions\">\r\n              <CButton type=\"submit\" color=\"primary\">{{this.formDetails.btnSubmitText}}</CButton>\r\n            </div>\r\n          </CForm>\r\n        </CCardBody>\r\n        <CCardBody v-show=\"loading\" class=\"align-middle\">\r\n          <CSpinner class=\"text-info\"/>\r\n        </CCardBody>\r\n      </CCollapse>\r\n    </CCard>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TableForm',\r\n  props:{\r\n    formDetails: Object,\r\n    columnList: Array,\r\n  },\r\n  data () {\r\n    return {\r\n      loading: true,\r\n      formCollapsed: true,\r\n      formData:{},\r\n      successShow: false,\r\n      successMsg: '',\r\n      errorShow: false,\r\n      errorMsg: '',\r\n    }\r\n  },\r\n  methods: {\r\n    formSubmit(){\r\n      // Reset all alert before submit\r\n      this.successShow = false;\r\n      this.successMsg = '';\r\n      this.errorShow = false;\r\n      this.errorMsg = '';\r\n      this.$emit('processData', this.formData);\r\n    },\r\n    showLoad(){\r\n      this.loading = true;\r\n    },\r\n    finishLoad(){\r\n      this.loading = false;\r\n    },\r\n    showSuccessAlert(msg){\r\n      this.successShow = true;\r\n      this.successMsg = msg;\r\n    },\r\n    showErrorAlert(msg){\r\n      this.errorShow = true;\r\n      this.errorMsg = msg;\r\n    },\r\n    initFormData(){\r\n      this.showLoad();\r\n      for (var i = 0; i < this.columnList.length; i++) {\r\n        this.formData[this.columnList[i].dbColumn] = this.columnList[i].value;\r\n      }\r\n      this.$forceUpdate();\r\n      this.finishLoad();\r\n    },\r\n    goBack() {\r\n      this.usersOpened ? this.$router.go(-1) : this.$router.push({path: '/users'})\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./TableForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./TableForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableForm.vue?vue&type=template&id=69f22690&\"\nimport script from \"./TableForm.vue?vue&type=script&lang=js&\"\nexport * from \"./TableForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <TableForm ref=\"tf_user\" :key=\"k\" :formDetails=\"formDetails\" :columnList=\"columnList\" @processData=\"processData\" />\r\n</template>\r\n\r\n<script>\r\nimport UserService from '../../services/UserService'\r\nimport CommonHelper from '../../services/helper/CommonHelper'\r\nimport TableForm from '../custom/TableForm'\r\nexport default {\r\n  name: 'User',\r\n  components:{\r\n    TableForm\r\n  },\r\n  data () {\r\n    return {\r\n      formDetails:{\r\n        title: ((this.$router.currentRoute.path).includes(\"create\")) ? 'Create user' : 'Edit user',\r\n        btnSubmitText: ((this.$router.currentRoute.path).includes(\"create\")) ? 'Create' : 'Update',\r\n        submitUrl: '/api/user/register'\r\n      },\r\n      columnList:[\r\n        {\r\n          type: 'input',\r\n          datatype: 'text',\r\n          label: 'Name',\r\n          prepend: '@',\r\n          append: '',\r\n          description: 'This is username',\r\n          dbColumn: 'name',\r\n          value: '',\r\n          disabled: false\r\n        },\r\n        {\r\n          type: 'input',\r\n          datatype: 'email',\r\n          label: 'Email',\r\n          prepend: '',\r\n          append: '',\r\n          description: 'This is email',\r\n          dbColumn: 'email',\r\n          value: '',\r\n          disabled: false\r\n        },\r\n        {\r\n          type: 'input',\r\n          datatype: 'password',\r\n          label: 'Password',\r\n          prepend: '',\r\n          append: '',\r\n          description: 'This is password',\r\n          dbColumn: 'password',\r\n          value: '',\r\n          disabled: false\r\n        },\r\n      ],\r\n      k: 0,\r\n      usersOpened: null\r\n    }\r\n  },\r\n  created(){\r\n    if ( !(this.$router.currentRoute.path).includes(\"create\") )\r\n      this.getUserDetail();\r\n\r\n  },\r\n  mounted() {\r\n    if ( (this.$router.currentRoute.path).includes(\"create\") )\r\n      this.$nextTick(function () {\r\n        this.$refs.tf_user.finishLoad();\r\n      })\r\n  },\r\n  methods: {\r\n    processData(formData){\r\n      if ((this.$router.currentRoute.path).includes('create')){\r\n        this.insertUser(formData);\r\n      }else{\r\n        this.editUser(formData);\r\n      }\r\n    },\r\n    async insertUser(formData){\r\n      try{\r\n        let InsertUserDatas = UserService.insertUser(formData);\r\n        InsertUserDatas.then( (res) =>{\r\n          this.$refs.tf_user.showSuccessAlert('Success');\r\n        })\r\n        .catch((error) =>{\r\n            this.$refs.tf_user.showErrorAlert(error.response.data);\r\n        });\r\n      }catch(error) {\r\n        console.log(error);\r\n      };\r\n    },\r\n    async editUser(formData){\r\n      try{\r\n        let UpdateUserDatas = UserService.updateUser(this.$route.params.id, formData);\r\n        UpdateUserDatas.then( (res) =>{\r\n          this.$refs.tf_user.showSuccessAlert('Success');\r\n        })\r\n        .catch((error) =>{\r\n            this.$refs.tf_user.showErrorAlert(error.response.data);\r\n        });\r\n      }catch(error) {\r\n        console.log(error);\r\n      };\r\n    },\r\n    async getUserDetail(){\r\n      try{\r\n        let userData = UserService.getUser(this.$route.params.id);\r\n        userData.then( (res) =>{\r\n          let userDetailObj = res.data;\r\n          for(const key in userDetailObj){\r\n            let columnKey = CommonHelper.getObjectKeyByValue(this.columnList, 'dbColumn', key);\r\n            if( columnKey !== false ){\r\n              this.columnList[columnKey]['value'] = userDetailObj[key];\r\n            }\r\n          }\r\n          this.$refs.tf_user.initFormData();\r\n        })\r\n        .catch((error) =>{\r\n          console.log(error)\r\n          this.$refs.tf_user.showErrorAlert(error.response);\r\n        })\r\n      }catch(error) {\r\n        console.log(error);\r\n      };\r\n    },\r\n    goBack() {\r\n      this.usersOpened ? this.$router.go(-1) : this.$router.push({path: '/users'})\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserForm.vue?vue&type=template&id=b182b3d2&\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\vc_work\\\\dashboard\\\\client\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}