(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-848b302e"],{"35ca":function(e,t,r){"use strict";var n=r("bc3a"),o=r.n(n),s=(r("a18c"),r("e336"));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,o,s,a){try{var i=e[s](a),u=i.value}catch(c){return void r(c)}i.done?t(u):Promise.resolve(u).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function a(e){c(s,n,o,a,i,"next",e)}function i(e){c(s,n,o,a,i,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}var m="/api/users/",h=function(){function e(){p(this,e)}return d(e,null,[{key:"getUsers",value:function(){var e=l(regeneratorRuntime.mark((function e(t,r,n){var a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={params:{limit:t,page:n,search:r}},r.length<=0&&delete a.params.search,u=i(i({},s["a"].getHeader()),a),e.abrupt("return",o.a.get(m,u));case 4:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"insertUser",value:function(){var e=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return{data:t},r=i({},s["a"].getHeader()),e.abrupt("return",o.a.post(m,t,r));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteUser",value:function(e){return o.a.delete("".concat(m).concat(e))}}]),e}();t["a"]=h},e336:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var a=function(){function e(t,r){n(this,e)}return s(e,null,[{key:"getToken",value:function(){var e=localStorage.getItem("token");return e||""}},{key:"getHeader",value:function(){return{headers:{"auth-token":this.getToken()}}}},{key:"setToken",value:function(e){console.log(e),localStorage.setItem("token",e)}}]),e}();t["a"]=a},efab:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("TableForm",{ref:"tf_user",attrs:{formDetails:e.formDetails,columnList:e.columnList},on:{processData:e.insertUser}})},o=[],s=r("35ca"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[r("CCard",[r("CCardHeader",[r("CIcon",{attrs:{name:"cil-pencil"}}),e._v(" "+e._s(this.formDetails.title)+" "),r("div",{staticClass:"card-header-actions"},[r("CLink",{staticClass:"card-header-action btn-minimize",on:{click:function(t){e.formCollapsed=!e.formCollapsed}}},[r("CIcon",{attrs:{name:"cil-chevron-"+(e.formCollapsed?"bottom":"top")}})],1)],1)],1),r("CCollapse",{attrs:{show:e.formCollapsed}},[r("CCardBody",[r("CAlert",{attrs:{color:"success",closeButton:"",show:e.successShow},on:{"update:show":function(t){e.successShow=t}}},[e._v(" "+e._s(e.successMsg)+" ")]),r("CAlert",{attrs:{show:e.errorShow,color:"danger"},on:{"update:show":function(t){e.errorShow=t}}},[e._v(" "+e._s(e.errorMsg)+" ")]),r("CForm",{on:{submit:function(t){return t.preventDefault(),e.formSubmit(t)}}},[e._l(e.columnList,(function(t){return r("div",{key:t.id},["input"==t.type?r("CInput",{attrs:{label:t.label,description:t.description,type:t.datatype,prepend:t.prepend,append:t.append,disabled:t.disabled},model:{value:e.formData[t.dbColumn],callback:function(r){e.$set(e.formData,t.dbColumn,r)},expression:"formData[column.dbColumn]"}}):e._e()],1)})),r("div",{staticClass:"form-actions"},[r("CButton",{attrs:{type:"submit",color:"primary"}},[e._v(e._s(this.formDetails.btnSubmitText))])],1)],2)],1)],1)],1)],1)},i=[],u={name:"TableForm",props:{formDetails:Object,columnList:Object},data:function(){return{formCollapsed:!0,formData:{},successShow:!1,successMsg:"",errorShow:!1,errorMsg:""}},computed:{},methods:{formSubmit:function(){this.successShow=!1,this.successMsg="",this.errorShow=!1,this.errorMsg="",this.$emit("processData",this.formData)},showSuccessAlert:function(e){this.successShow=!0,this.successMsg=e},showErrorAlert:function(e){this.errorShow=!0,this.errorMsg=e},goBack:function(){this.usersOpened?this.$router.go(-1):this.$router.push({path:"/users"})}}},c=u,l=r("ebbf"),p=Object(l["a"])(c,a,i,!1,null,null,null),f=p.exports;function d(e,t,r,n,o,s,a){try{var i=e[s](a),u=i.value}catch(c){return void r(c)}i.done?t(u):Promise.resolve(u).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function a(e){d(s,n,o,a,i,"next",e)}function i(e){d(s,n,o,a,i,"throw",e)}a(void 0)}))}}var h={name:"User",components:{TableForm:f},data:function(){return{formDetails:{title:window.location.href.includes("create")?"Create user":"Edit user",btnSubmitText:window.location.href.includes("create")?"Create":"Update",submitUrl:"/api/user/register"},columnList:{name:{type:"input",datatype:"text",label:"Name",prepend:"@",append:"",description:"This is username",dbColumn:"name",disabled:!1},email:{type:"input",datatype:"email",label:"Email",prepend:"",append:"",description:"This is email",dbColumn:"email",disabled:!1},password:{type:"input",datatype:"password",label:"Password",prepend:"",append:"",description:"This is password",dbColumn:"password",disabled:!1}},usersOpened:null}},methods:{insertUser:function(e){var t=this;return m(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:try{n=s["a"].insertUser(e),n.then((function(e){t.$refs.tf_user.showSuccessAlert("Success")})).catch((function(e){t.$refs.tf_user.showErrorAlert(e.response.data)}))}catch(o){console.log(o)}case 2:case"end":return r.stop()}}),r)})))()},goBack:function(){this.usersOpened?this.$router.go(-1):this.$router.push({path:"/users"})}}},b=h,w=Object(l["a"])(b,n,o,!1,null,null,null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-848b302e.bff6cd34.js.map