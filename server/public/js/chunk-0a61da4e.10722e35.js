(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a61da4e"],{dc02:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CRow",[a("CCol",{attrs:{col:"12",xl:"12"}},[a("CCard",[a("CCardHeader",[t._v(" Users ")]),a("CCardBody",[a("TableList",{attrs:{tblDetails:t.tblDetails,pagination:t.pagination,searchDetails:t.searchDetails},on:{getData:t.updateCurrentUrl}})],1)],1)],1)],1)},n=[],i=a("bc3a"),o=a.n(i),s=(a("a18c"),a("e336"));function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function h(t,e,a,r,n,i,o){try{var s=t[i](o),u=s.value}catch(c){return void a(c)}s.done?e(u):Promise.resolve(u).then(r,n)}function f(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function o(t){h(i,r,n,o,s,"next",t)}function s(t){h(i,r,n,o,s,"throw",t)}o(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,a){return e&&g(t.prototype,e),a&&g(t,a),t}var v="/api/users/",y=function(){function t(){p(this,t)}return d(t,null,[{key:"getUsers",value:function(){var t=f(regeneratorRuntime.mark((function t(e,a,r){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={params:{limit:e,page:r,search:a}},a.length<=0&&delete n.params.search,i=c(c({},s["a"].getHeader()),n),t.abrupt("return",o.a.get(v,i));case 4:case"end":return t.stop()}}),t)})));function e(e,a,r){return t.apply(this,arguments)}return e}()},{key:"insertUser",value:function(t){return o.a.User(v,{text:t})}},{key:"deleteUser",value:function(t){return o.a.delete("".concat(v).concat(t))}}]),t}(),b=y,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CRow",{attrs:{alignHorizontal:"end"}},[a("CCol",{attrs:{sm:"12"}}),a("CCol",{attrs:{sm:"2"}},[a("CSelect",{attrs:{horizontal:"",options:t.showLimit,placeholder:"Show",value:t.searchDetails.showLimitValue},on:{"update:value":function(e){return t.$set(t.searchDetails,"showLimitValue",e)},change:function(e){return t.gotoPage(e,"reload")}}})],1),a("CCol",{attrs:{sm:"2"}},[a("CInput",{attrs:{horizontal:"",placeholder:"Search Keyword",id:"searchInput"},on:{change:function(e){return t.gotoPage(e,"reload")}},model:{value:t.searchDetails.searchKeyword,callback:function(e){t.$set(t.searchDetails,"searchKeyword",e)},expression:"searchDetails.searchKeyword"}})],1)],1),a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",t._l(t.tblDetails.header,(function(e,r){return a("th",{key:r,attrs:{scope:"col"}},[t._v(t._s(r))])})),0)]),a("tbody",[t._l(t.tblDetails.dataList,(function(e){return a("tr",{key:e._id},t._l(t.tblDetails.header,(function(r,n){return a("td",{key:n},[t._v(t._s(e[r]))])})),0)})),t.tblDetails.dataList.length<=0?a("tr",[a("td",{attrs:{colspan:Object.keys(t.tblDetails.header).length}},[t._v("No data")])]):t._e()],2)]),t.pagination.totalPage>1?a("nav",{attrs:{"aria-label":""}},[a("ul",{staticClass:"pagination justify-content-end"},[a("li",{staticClass:"page-item",class:{disabled:1==t.pagination.activePage},on:{click:function(e){return t.gotoPage(e,"prev")}}},[a("span",{staticClass:"page-link"},[t._v("Previous")])]),t._l(t.pagination.totalPage,(function(e,r){return a("li",{key:r+1,staticClass:"page-item",class:{active:r+1==t.pagination.activePage},on:{click:function(e){return t.gotoPage(e,r+1)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(r+1))])])})),a("li",{staticClass:"page-item",class:{disabled:t.pagination.activePage==t.pagination.totalPage},on:{click:function(e){return t.gotoPage(e,"next")}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("Next")])])],2)]):t._e()],1)},w=[];function k(t,e){return j(t)||O(t,e)||D(t,e)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(t,e){if(t){if("string"===typeof t)return C(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?C(t,e):void 0}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function O(t,e){var a=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=a){var r,n,i=[],o=!0,s=!1;try{for(a=a.call(t);!(o=(r=a.next()).done);o=!0)if(i.push(r.value),e&&i.length===e)break}catch(u){s=!0,n=u}finally{try{o||null==a["return"]||a["return"]()}finally{if(s)throw n}}return i}}function j(t){if(Array.isArray(t))return t}var _={name:"TableList",beforeRouteEnter:function(t,e,a){a((function(t){}))},props:{tblDetails:Object,pagination:Object,searchDetails:Object},data:function(){return{showLimit:[1,5,10,15,20],usersOpened:null}},computed:{fields:function(){return[{key:"key",label:this.username,_style:"width:150px"},{key:"value",label:"",_style:"width:150px;"}]},userData:function(){var t=this.$route.params.id,e=usersData.find((function(e,a){return a+1==t})),a=e?Object.entries(e):[["id","Not found"]];return a.map((function(t){var e=k(t,2),a=e[0],r=e[1];return{key:a,value:r}}))},visibleData:function(){return this.userData.filter((function(t){return"username"!==t.key}))},username:function(){return this.userData.filter((function(t){return"username"===t.key}))[0].value}},methods:{gotoPage:function(t,e){if(isNaN(e)){if(void 0!==t.currentTarget&&t.currentTarget.classList.contains("disabled"))return;switch(e.toString().trim()){case"prev":this.pagination.activePage=this.pagination.activePage>1?this.pagination.activePage-=1:1;break;case"next":this.pagination.activePage=this.pagination.activePage<this.pagination.totalPage?this.pagination.activePage+=1:this.pagination.activePage;break;case"reload":this.pagination.activePage=1;break}}else!0!==t.currentTarget.classList.contains("active")&&(this.pagination.activePage=e);this.$emit("getData")},goBack:function(){this.usersOpened?this.$router.go(-1):this.$router.push({path:"/users"})}}},$=_,L=a("ebbf"),x=Object(L["a"])($,m,w,!1,null,null,null),U=x.exports;function q(t,e,a,r,n,i,o){try{var s=t[i](o),u=s.value}catch(c){return void a(c)}s.done?e(u):Promise.resolve(u).then(r,n)}function S(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function o(t){q(i,r,n,o,s,"next",t)}function s(t){q(i,r,n,o,s,"throw",t)}o(void 0)}))}}var T={name:"Users",components:{TableList:U},data:function(){return{tblDetails:{header:{id:"_id",name:"name",data:"date"},dataList:[]},pagination:{totalPage:0,activePage:this.$route.query.p?Number.parseInt(this.$route.query.p):1},searchDetails:{showLimitValue:this.$route.query.sl?Number.parseInt(this.$route.query.sl):1,searchKeyword:this.$route.query.sk?this.$route.query.sk:""}}},created:function(){void 0===this.$route.query.sl||void 0===this.$route.query.p?this.updateCurrentUrl():this.getUser()},methods:{rowClicked:function(t,e){this.$router.push({path:"users/".concat(e+1)})},pageChange:function(t){this.$router.push({query:{page:t}})},updateCurrentUrl:function(){this.$route.query.sl==this.searchDetails.showLimitValue&&this.$route.query.p==this.pagination.activePage&&this.$route.query.sk==this.searchDetails.searchKeyword||this.$router.push({name:"Users",query:{sl:this.searchDetails.showLimitValue,p:this.pagination.activePage,sk:this.searchDetails.searchKeyword}}),this.getUser()},getUser:function(){var t=this;return S(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{a=b.getUsers(t.searchDetails.showLimitValue,t.searchDetails.searchKeyword,t.pagination.activePage),a.then((function(e){t.tblDetails.dataList=e.data.dataList,t.pagination.totalPage=e.data.totalPage}))}catch(r){console.log(r)}case 2:case"end":return e.stop()}}),e)})))()}}},I=T,E=Object(L["a"])(I,r,n,!1,null,null,null);e["default"]=E.exports},e336:function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}var o=function(){function t(e,a){r(this,t)}return i(t,null,[{key:"getToken",value:function(){var t=localStorage.getItem("token");return t||""}},{key:"getHeader",value:function(){return{headers:{"auth-token":this.getToken()}}}},{key:"setToken",value:function(t){console.log(t),localStorage.setItem("token",t)}}]),t}();e["a"]=o}}]);
//# sourceMappingURL=chunk-0a61da4e.10722e35.js.map